<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://lmatt-bit.github.io/blog/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://lmatt-bit.github.io/blog/theme/stylesheet/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="http://lmatt-bit.github.io/blog/theme/stylesheet/font-awesome.min.css">





  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

<meta name="author" content="lmatt wang" />
<meta name="description" content="文章内容参考了http://www.cplusplus.com/doc/tutorial/templates/ 个人觉得template的使用，使得 c++更加oo了。下面就记录下template的几种用法。\ Function template 函数template的声明和定义一般使用如下的方法。 [codesyntax lang="cpp" title="function template"] //declaration template //or template T getMax(T, T); //definition template //or template T getMax(T lfs, T rfs){ return (lfs > rfs)?lfs:rfs; } [/codesyntax] 函数的使用如下。\ 中的内容为类型名称，在某些情况（编译器能够理解 ..." />
<meta name="keywords" content="">
<meta property="og:site_name" content="do not know"/>
<meta property="og:title" content="Template"/>
<meta property="og:description" content="文章内容参考了http://www.cplusplus.com/doc/tutorial/templates/ 个人觉得template的使用，使得 c++更加oo了。下面就记录下template的几种用法。\ Function template 函数template的声明和定义一般使用如下的方法。 [codesyntax lang="cpp" title="function template"] //declaration template //or template T getMax(T, T); //definition template //or template T getMax(T lfs, T rfs){ return (lfs > rfs)?lfs:rfs; } [/codesyntax] 函数的使用如下。\ 中的内容为类型名称，在某些情况（编译器能够理解 ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://lmatt-bit.github.io/blog/Template.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2010-03-21 08:38:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://lmatt-bit.github.io/blog/author/lmatt-wang.html">
<meta property="article:section" content="misc"/>
<meta property="og:image" content="">
  <title>do not know &ndash; Template</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://lmatt-bit.github.io/blog">
        <img src="http://lmatt-bit.github.io/blog/theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="http://lmatt-bit.github.io/blog"></a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="http://lmatt-bit.github.io/blog/pages/guanyuwo(About-Me).html#guanyuwo(About-Me)">关于我(About Me)</a></li>
          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
          <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-social link" href="#" target="_blank"><i class="fa fa-social link"></i></a></li>
        <li><a class="sc-Another social link" href="#" target="_blank"><i class="fa fa-Another social link"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h1 id="Template">Template</h1>
    <p>Posted on Sun 21 March 2010 in <a href="http://lmatt-bit.github.io/blog/category/misc.html">misc</a></p>
  </header>
  <div>
    <p>文章内容参考了<a href="http://www.cplusplus.com/doc/tutorial/templates/">http://www.cplusplus.com/doc/tutorial/templates/</a></p>
<p>个人觉得template的使用，使得
c++更加oo了。下面就记录下template的几种用法。\</p>
<h1><strong>Function template</strong></h1>
<p>函数template的声明和定义一般使用如下的方法。</p>
<p>[codesyntax lang="cpp" title="function template"]</p>
<div class="highlight"><pre><span></span><span class="o">//</span><span class="nt">declaration</span>
<span class="nt">template</span> <span class="o">//</span><span class="nt">or</span> <span class="nt">template</span> 
<span class="nt">T</span> <span class="nt">getMax</span><span class="o">(</span><span class="nt">T</span><span class="o">,</span> <span class="nt">T</span><span class="o">);</span>

<span class="o">//</span><span class="nt">definition</span>
<span class="nt">template</span> <span class="o">//</span><span class="nt">or</span> <span class="nt">template</span> 
<span class="nt">T</span> <span class="nt">getMax</span><span class="o">(</span><span class="nt">T</span> <span class="nt">lfs</span><span class="o">,</span> <span class="nt">T</span> <span class="nt">rfs</span><span class="o">)</span><span class="p">{</span>
   <span class="n">return</span> <span class="p">(</span><span class="n">lfs</span> <span class="o">&gt;</span> <span class="n">rfs</span><span class="p">)</span><span class="o">?</span><span class="n">lfs</span><span class="o">:</span><span class="n">rfs</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>[/codesyntax]</p>
<p>函数的使用如下。\
中的内容为类型名称，在某些情况（编译器能够理解）下可以省略，下面的例子就可以省略。</p>
<p>[codesyntax lang="cpp"]</p>
<div class="highlight"><pre><span></span>int a = 10, b = 11;
int c = getMax(a, b);//or getMax(a, b)
</pre></div>


<p>[/codesyntax]\</p>
<h1><strong>Class template</strong></h1>
<p>类template的定义一般如下。</p>
<p>[codesyntax lang="cpp"]</p>
<div class="highlight"><pre><span></span>template
class MyArray{
private:
   const int N;
  int len;
  T *s;
 MyArray();
public:
   MyArray(int n):N(n){
      s = new T[N];
     len = 0;
  }
 T at(int i);//declaration
};

template
T MyArray::at(int i){
    if(i &lt; len) return s[i];
  else ;//throw exception
}
</pre></div>


<p>[/codesyntax]</p>
<p>类template的使用如下。</p>
<p>[codesyntax lang="cpp"]</p>
<div class="highlight"><pre><span></span><span class="nt">MyArray</span> <span class="nt">a</span><span class="o">(</span><span class="nt">10</span><span class="o">);</span>
<span class="o">//</span><span class="nt">some</span> <span class="nt">code</span> <span class="nt">here</span>
<span class="nt">std</span><span class="o">:</span><span class="nd">:cout</span> <span class="o">&lt;&lt;</span> <span class="nt">a</span><span class="nc">.at</span><span class="o">(</span><span class="nt">0</span><span class="o">)</span> <span class="o">&lt;&lt;</span> <span class="nt">std</span><span class="o">:</span><span class="nd">:endl</span><span class="o">;</span>
</pre></div>


<p>[/codesyntax]\</p>
<h1><strong>Template specialization</strong></h1>
<p>这里以文章开头<a href="http://www.cplusplus.com/doc/tutorial/templates/">链接</a>中给出的例子来进行说明。其中的mychar.increase()是我添加上去的，这句话会导致编译错误（error:
‘class mycontainer<char>’ has no member named
‘increase’）。这是由于template specialization并不有继承的关系。</p>
<p>[codesyntax lang="cpp"]</p>
<div class="highlight"><pre><span></span><span class="c1">// template specialization</span>
<span class="cp">#include</span> 
<span class="cpf">using namespace std;</span><span class="cp"></span>

<span class="c1">// class template:</span>
<span class="k">template</span> 
<span class="k">class</span> <span class="nc">mycontainer</span> <span class="p">{</span>
    <span class="n">T</span> <span class="n">element</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="n">mycontainer</span> <span class="p">(</span><span class="n">T</span> <span class="n">arg</span><span class="p">)</span> <span class="p">{</span><span class="n">element</span><span class="o">=</span><span class="n">arg</span><span class="p">;}</span>
    <span class="n">T</span> <span class="n">increase</span> <span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="o">++</span><span class="n">element</span><span class="p">;}</span>
<span class="p">};</span>

<span class="c1">// class template specialization:</span>
<span class="k">template</span>

<span class="k">class</span> <span class="nc">mycontainer</span>
</pre></div>


<p></char><char> {\
 char element;\
 public:\
 mycontainer (char arg) {element=arg;}\
 char uppercase ()\
 {\
 if ((element>='a')&amp;&amp;(element\&lt;='z'))\
 element+='A'-'a';\
 return element;\
 }\
};</p>
<p>int main () {\
 mycontainer<int> myint (7);\
 mycontainer</int></char><char> mychar ('j');\
 cout \&lt;\&lt; myint.increase() \&lt;\&lt; endl;\
 cout \&lt;\&lt; mychar.uppercase() \&lt;\&lt; endl;</p>
<p>//lmatt add,error!\
 cout \&lt;\&lt; (char)mychar.increase() \&lt;\&lt; endl;\
 //lmatt add</p>
<p>return 0;\
}\
[/codesyntax]\</p>
<h1>Non-type parameters for templates</h1>
<p>在template中也能像函数那样使用常规的类型作为参数。如下代码所示。其中的MyArray2有default参数，可以直接使用MyArray2
a;。</p>
<p>[codesyntax lang="cpp"]</p>
<div class="highlight"><pre><span></span>template
class MyArray1{
    T s[N];
};
template
class MyArray2{
 T s[N];
};
</pre></div>


<p>[/codesyntax]\</p>
<blockquote>
<p>Template的声明和实现必须在同一个文件中，这是由于template是compiled on
demand的，仅仅在被实例化的时候才被compile。同样由于这个原因，template的文件被多次引入也不会产生link
error。
</p></p>
</blockquote>
<p></char></p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'lmattbit';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

    <footer>
        <p>&copy; lmatt </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Template",
  "headline": "Template",
  "datePublished": "2010-03-21 08:38:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "lmatt wang",
    "url": "http://lmatt-bit.github.io/blog/author/lmatt-wang.html"
  },
  "image": "{{ SITEURL }}/{{ THEME_STATIC_DIR }}/img/profile.png",
  "url": "http://lmatt-bit.github.io/blog/Template.html",
  "description": "文章内容参考了http://www.cplusplus.com/doc/tutorial/templates/ 个人觉得template的使用，使得 c++更加oo了。下面就记录下template的几种用法。\ Function template 函数template的声明和定义一般使用如下的方法。 [codesyntax lang="cpp" title="function template"] //declaration template //or template T getMax(T, T); //definition template //or template T getMax(T lfs, T rfs){ return (lfs > rfs)?lfs:rfs; } [/codesyntax] 函数的使用如下。\ 中的内容为类型名称，在某些情况（编译器能够理解 ..."
}
</script></body>
</html>